"use strict";var _createClass=function(){function l(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Cart=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getGoodsTotalNum",value:function(){for(var e=document.getElementsByClassName("num-input"),t=0,n=0;n<e.length;n++)t+=Number(e[n].value);document.getElementById("total-num").innerHTML=t}},{key:"check",value:function(){for(var n=document.getElementsByClassName("checkbox-input"),l=document.getElementsByClassName("checkbox-input-all"),e=0;e<l.length;e++)!function(t){l[t].onclick=function(){for(var e=0;e<n.length;e++)n[e].checked=l[t].checked}}(e)}},{key:"getGoodsTotalPrice",value:function(){for(var e=document.getElementsByClassName("xiaojiji"),t=0,n=0;n<e.length;n++)t+=Number(e[n].innerHTML);document.getElementById("total-price").innerHTML=t}},{key:"goodsAdd",value:function(e){var t=e.previousElementSibling;t.value=Number(t.value)+1;var n=e.parentNode.parentNode.previousElementSibling.lastElementChild.firstElementChild.firstElementChild;e.parentNode.parentNode.previousElementSibling.lastElementChild.lastElementChild.firstElementChild.innerHTML=this.xiaoji(t.value,n.innerHTML),this.getGoodsTotalPrice(),this.getGoodsTotalNum()}},{key:"xiaoji",value:function(e,t){return e*t}},{key:"goodsMin",value:function(e){var t=e.nextElementSibling;1<t.value&&(t.value=t.value-1);var n=e.parentNode.parentNode.previousElementSibling.lastElementChild.firstElementChild.firstElementChild;e.parentNode.parentNode.previousElementSibling.lastElementChild.lastElementChild.firstElementChild.innerHTML=this.xiaoji(t.value,n.innerHTML),this.getGoodsTotalPrice(),this.getGoodsTotalNum()}},{key:"goodsDel",value:function(e){var t=e.parentNode.parentNode.parentNode.previousElementSibling.firstElementChild.style.backgroundImage,n=e.parentNode.parentNode.previousElementSibling.firstElementChild.firstElementChild.innerHTML,l=e.parentNode.parentNode.previousElementSibling.firstElementChild.lastElementChild.firstElementChild.lastElementChild.innerHTML;console.log(t),e.parentNode.parentNode.parentNode.parentNode.remove(),this.getGoodsTotalPrice(),this.getGoodsTotalNum(),new MyAjax({type:"get",url:"php/cart.php",isAsyn:!0,data:"delname="+n+"&delsize="+l+"&delimg="+t,callBack:function(e){console.log(e)}}).ajax()}},{key:"eventbind",value:function(){for(var e=this,t=document.getElementsByClassName("num-plus"),n=0;n<t.length;n++)t[n].onclick=function(){e.goodsAdd(this)};for(var l=document.getElementsByClassName("num-minus"),i=0;i<l.length;i++)l[i].onclick=function(){e.goodsMin(this)};for(var o=document.getElementsByClassName("delete-one"),a=0;a<o.length;a++)o[a].onclick=function(){e.goodsDel(this)}}}]),e}();